<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Status — NGEE.TOP</title>
    <meta
      name="description"
      content="Live uptime & incidents powered by UptimeRobot." />
    <meta name="theme-color" content="#0B1220" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@500;700&display=swap"
      rel="stylesheet" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              bg: "#0B1220",
              surface: "#0F172A",
              border: "#1E293B",
              txt: "#E2E8F0",
              "txt-dim": "#94A3B8",
              pri: "#22C55E",
              "pri-hover": "#16A34A",
              acc: "#F59E0B",
              info: "#38BDF8",
              danger: "#EF4444",
            },
            boxShadow: {
              glow: "0 0 0 2px rgba(34,197,94,0.14), 0 12px 64px rgba(34,197,94,0.10)",
            },
            borderRadius: { "2lg": "14px" },
          },
        },
      };
    </script>
    <style>
      :root {
        color-scheme: dark;
      }
      html,
      body {
        background: #0b1220;
      }
      body {
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial,
          sans-serif;
        color: #e2e8f0;
      }
      .mono {
        font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo,
          Consolas, "Liberation Mono", monospace;
      }
    </style>
  </head>
  <body
    class="bg-bg text-txt antialiased selection:bg-pri/20 selection:text-txt">
    <!-- Top Nav -->
    <header
      class="sticky top-0 z-40 border-b border-border/60 backdrop-blur supports-[backdrop-filter]:bg-bg/70">
      <div class="mx-auto max-w-7xl px-4 py-3">
        <div class="flex items-center justify-between">
          <a href="index.html" class="flex items-center gap-3 group">
            <span
              class="inline-flex h-9 w-9 items-center justify-center rounded-xl bg-surface ring-1 ring-border relative">
              <svg
                viewBox="0 0 24 24"
                class="h-5 w-5 text-pri transition-transform group-hover:rotate-6"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5">
                <path d="M12 8.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z" />
                <path
                  d="M12 3v2M12 19v2M4.9 4.9l1.4 1.4M17.7 17.7l1.4 1.4M3 12h2M19 12h2M4.9 19.1l1.4-1.4M17.7 6.3l1.4-1.4" />
              </svg>
            </span>
            <div class="leading-5">
              <div class="mono text-[0.9rem] font-bold tracking-tight">
                NGEE.TOP
              </div>
              <div class="text-xs text-txt-dim">Tools Of Productivity</div>
            </div>
          </a>
          <nav class="hidden md:flex items-center gap-6 text-sm">
            <a href="/" class="text-txt-dim hover:text-txt">Home</a>
            <a
              href="index.html#domains"
              class="text-txt-dim hover:text-txt transition"
              >Domains</a
            >
            <a
              href="index.html#hosting"
              class="text-txt-dim hover:text-txt transition"
              >Hosting</a
            >
            <a href="tools.html" class="text-txt-dim hover:text-txt transition"
              >Tools</a
            >
            <a
              href="projects.html"
              class="text-txt-dim hover:text-txt transition"
              >Projects</a
            >
            <a
              href="index.html#community"
              class="text-txt-dim hover:text-txt transition"
              >Community</a
            >
            <!-- <a
              href="https://docs.ngee.top"
              class="text-txt-dim hover:text-txt transition"
              >Docs</a
            > -->
            <a href="#" class="text-txt hover:text-txt transition font-semibold"
              >Status</a
            >
            <a href="about.html" class="text-txt-dim hover:text-txt transition"
              >About</a
            >
            <a
              href="contact.html"
              class="text-txt-dim hover:text-txt transition"
              >Contact</a
            >
            <a
              href="#cta"
              class="inline-flex items-center gap-2 rounded-xl bg-pri px-4 py-2 text-sm font-semibold text-black hover:bg-pri-hover shadow-glow transition">
              Get a Domain
              <svg
                viewBox="0 0 24 24"
                class="h-4 w-4"
                fill="none"
                stroke="currentColor"
                stroke-width="1.6">
                <path d="M5 12h14M13 5l7 7-7 7" />
              </svg>
            </a>
          </nav>
          <button
            id="menu-toggle"
            aria-expanded="false"
            aria-controls="mobile-nav"
            class="md:hidden inline-flex items-center gap-2 rounded-xl border border-border bg-surface px-3 py-2 text-sm">
            Menu
          </button>
        </div>
      </div>
    </header>

    <!-- Mobile Nav Panel -->
    <div
      id="mobile-nav"
      class="md:hidden hidden border-b border-border/60 bg-surface/80">
      <div class="mx-auto max-w-7xl px-4 py-3 grid gap-2">
        <a
          href="index.html#domains"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Domains</a
        >
        <a
          href="index.html#hosting"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Hosting</a
        >
        <a
          href="tools.html"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Tools</a
        >
        <a
          href="projects.html"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Projects</a
        >
        <a
          href="index.html#community"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Community</a
        >
        <!-- <a href="https://docs.ngee.top" class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm">Docs</a> -->
        <a
          href="status.html"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Status</a
        >
        <a
          href="about.html"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >About</a
        >
        <a
          href="contact.html"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Contact</a
        >
        <a
          href="index.html#cta"
          class="block rounded-xl bg-pri px-3 py-2 text-sm font-semibold text-black hover:bg-pri-hover shadow-glow"
          >Get a Domain</a
        >
      </div>
    </div>

    <!-- Header -->
    <section class="mx-auto max-w-7xl px-4 py-10 md:py-16">
      <h1 class="text-3xl md:text-4xl font-semibold">Status</h1>
      <p class="mt-2 text-sm text-txt-dim max-w-2xl">
        Live uptime & incidents powered by UptimeRobot.
      </p>
    </section>

    <!-- Status -->
    <section class="mx-auto max-w-7xl px-4 pb-20 md:pb-28">
      <div class="rounded-2lg border border-border bg-surface p-6 md:p-8">
        <div
          class="flex flex-col md:flex-row md:items-end md:justify-between gap-6">
          <div>
            <h3 class="text-2xl font-semibold">Status</h3>
            <p class="mt-2 text-sm text-txt-dim max-w-2xl">
              Live uptime & incidents powered by UptimeRobot. Add your API key
              and monitor IDs to show real data.
            </p>
          </div>
          <div class="flex items-center gap-2">
            <button
              id="status-refresh"
              class="rounded-xl border border-border bg-surface px-4 py-2 text-sm hover:bg-surface/70">
              Refresh
            </button>
            <span id="status-updated" class="text-xs text-txt-dim"
              >Last updated — never</span
            >
          </div>
        </div>

        <div class="mt-6 flex flex-wrap items-center gap-2 text-xs">
          <span
            class="rounded-full bg-pri/10 px-2.5 py-1 text-pri ring-1 ring-pri/20"
            >UP</span
          >
          <span
            class="rounded-full bg-acc/10 px-2.5 py-1 text-acc ring-1 ring-acc/20"
            >SEEMS DOWN</span
          >
          <span
            class="rounded-full bg-danger/10 px-2.5 py-1 text-danger ring-1 ring-danger/20"
            >DOWN</span
          >
          <span class="rounded-full bg-border/40 px-2.5 py-1 text-txt-dim"
            >PAUSED / INIT</span
          >
        </div>

        <div
          id="monitors"
          class="mt-6 grid gap-4 md:grid-cols-2 lg:grid-cols-3"></div>

        <p class="mt-4 text-[12px] text-txt-dim">
          Uptime period: last <span id="uptime-days">30</span> days • API:
          <span class="mono">api.uptimerobot.com/v2/getMonitors</span>
        </p>
      </div>
    </section>

    <!-- ===== Footer ===== -->
    <footer class="border-t border-border/70">
      <div class="mx-auto max-w-7xl px-4 py-10">
        <div class="grid gap-8 md:grid-cols-4">
          <div>
            <div class="mono text-sm font-bold">NGEE.TOP</div>
            <p class="mt-2 text-sm text-txt-dim">
              New-era General Engineering Engine · Tools Of Productivity
            </p>
          </div>
          <div>
            <h5 class="text-sm font-semibold">Explore</h5>
            <ul class="mt-2 space-y-1 text-sm text-txt-dim">
              <li>
                <a href="index.html#domains" class="hover:text-txt">Domains</a>
              </li>
              <li>
                <a href="index.html#hosting" class="hover:text-txt">Hosting</a>
              </li>
              <li>
                <a href="tools.html" class="hover:text-txt">Tools</a>
              </li>
              <li>
                <a href="projects.html" class="hover:text-txt">Projects</a>
              </li>
              <li>
                <a href="index.html#community" class="hover:text-txt"
                  >Community</a
                >
              </li>
              <li>
                <a href="status.html" class="hover:text-txt">Status</a>
              </li>
            </ul>
          </div>
          <div>
            <h5 class="text-sm font-semibold">Docs</h5>
            <ul class="mt-2 space-y-1 text-sm text-txt-dim">
              <li>
                <a href="https://docs.ngee.top/domains" class="hover:text-txt"
                  >Domains</a
                >
              </li>
              <li>
                <a href="https://docs.ngee.top/dns" class="hover:text-txt"
                  >DNS</a
                >
              </li>
              <li>
                <a href="https://docs.ngee.top/hosting" class="hover:text-txt"
                  >Hosting</a
                >
              </li>
              <li>
                <a href="https://docs.ngee.top/deploy" class="hover:text-txt"
                  >Deploy</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h5 class="text-sm font-semibold">Meta</h5>
            <ul class="mt-2 space-y-1 text-sm text-txt-dim">
              <!-- <li>Twitter/X: @ngee_top</li> -->
              <li>GitHub: github.com/ngeetop</li>
              <li class="mt-3 text-[12px]">© <span id="y"></span> NGEE.TOP</li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // ====== CONFIG ======
      const UPTIMEROBOT_API_KEY = "ur3163380-7ddd331ea1e65a7968ffc34c";
      const MONITOR_IDS = "";
      const CUSTOM_UPTIME_DAYS = 30;

      // ====== UI HOOKS ======
      const monitorsEl = document.getElementById("monitors");
      const updatedEl = document.getElementById("status-updated");
      const refreshBtn = document.getElementById("status-refresh");
      const uptimeDaysEl = document.getElementById("uptime-days");
      uptimeDaysEl.textContent = CUSTOM_UPTIME_DAYS;

      // ====== HELPERS ======
      const statusMap = (code) =>
        ({
          0: {
            label: "PAUSED",
            badge: "bg-border/40 text-txt-dim ring-1 ring-border/30",
          },
          1: {
            label: "INIT",
            badge: "bg-border/40 text-txt-dim ring-1 ring-border/30",
          },
          2: { label: "UP", badge: "bg-pri/10 text-pri ring-1 ring-pri/20" },
          8: {
            label: "SEEMS DOWN",
            badge: "bg-acc/10 text-acc ring-1 ring-acc/20",
          },
          9: {
            label: "DOWN",
            badge: "bg-danger/10 text-danger ring-1 ring-danger/20",
          },
        }[code] || {
          label: "UNKNOWN",
          badge: "bg-border/40 text-txt-dim ring-1 ring-border/30",
        });

      const fmt = (n, suffix = "%") =>
        n === undefined || n === null || isNaN(+n)
          ? "—"
          : `${(+n).toFixed(2)}${suffix}`;
      const human = (ts) => new Date(ts).toLocaleString();

      function cardHTML(m) {
        const s = statusMap(m.status);
        const uptime = m.custom_uptime_ratio ?? m.all_time_uptime_ratio ?? null;
        const typeMap = {
          1: "HTTP(S)",
          2: "Keyword",
          3: "Ping",
          4: "Port",
          5: "Heartbeat",
        };
        const typeLabel = typeMap[m.type] || "Unknown";
        return `
      <article class="rounded-2lg border border-border bg-surface/60 p-5 hover:bg-surface transition">
        <div class="flex items-start justify-between gap-2">
          <div>
            <h4 class="font-semibold">${
              m.friendly_name || m.url || m.name || "Unknown"
            }</h4>
            <div class="mt-1 text-xs text-txt-dim mono">${m.url || ""}</div>
          </div>
          <span class="rounded-full ${s.badge} px-2.5 py-1 text-[11px]">${
          s.label
        }</span>
        </div>

        <div class="mt-4 grid gap-3 sm:grid-cols-2">
          <div class="rounded-2lg border border-border/70 p-4">
            <div class="text-xs text-txt-dim">Uptime (last ${CUSTOM_UPTIME_DAYS}d)</div>
            <div class="mt-1 text-2xl font-bold mono">${fmt(uptime)}</div>
          </div>
          <div class="rounded-2lg border border-border/70 p-4">
            <div class="text-xs text-txt-dim">Type</div>
            <div class="mt-1 text-base font-semibold mono">${typeLabel}</div>
          </div>
        </div>

        <div class="mt-3 text-xs text-txt-dim">Last check: ${
          m.last_check ? human(m.last_check * 1000) : "—"
        }</div>
      </article>`;
      }

      function render(monitors) {
        monitorsEl.innerHTML =
          monitors.map(cardHTML).join("") ||
          `
          <div class="rounded-2lg border border-border bg-surface p-6 text-sm text-txt-dim">
            No monitors yet. Add your UptimeRobot API key to show real data.
          </div>`;
        updatedEl.textContent = "Last updated — " + human(Date.now());
      }

      // Demo dataset if no key present
      const demoMonitors = [
        {
          friendly_name: "NGEE Landing",
          url: "https://www.ngee.top",
          status: 2,
          type: 1,
          last_check: Math.floor(Date.now() / 1000) - 60,
          custom_uptime_ratio: 99.98,
        },
        {
          friendly_name: "Docs",
          url: "https://docs.ngee.top",
          status: 2,
          type: 1,
          last_check: Math.floor(Date.now() / 1000) - 120,
          custom_uptime_ratio: 99.9,
        },
        {
          friendly_name: "Status",
          url: "https://status.ngee.top",
          status: 2,
          type: 1,
          last_check: Math.floor(Date.now() / 1000) - 45,
          custom_uptime_ratio: 100,
        },
      ];

      async function fetchStatus() {
        if (!UPTIMEROBOT_API_KEY) {
          render(demoMonitors);
          return;
        }
        try {
          const params = new URLSearchParams();
          params.append("api_key", UPTIMEROBOT_API_KEY);
          params.append("format", "json");
          if (MONITOR_IDS) params.append("monitors", MONITOR_IDS);
          params.append("custom_uptime_ratios", String(CUSTOM_UPTIME_DAYS));
          params.append("logs", "0");
          const res = await fetch(
            "https://api.uptimerobot.com/v2/getMonitors",
            {
              method: "POST",
              headers: { "Content-Type": "application/x-www-form-urlencoded" },
              body: params.toString(),
            }
          );
          const data = await res.json();
          if (data && data.monitors) {
            const monitors = data.monitors.map((m) => ({
              ...m,
              custom_uptime_ratio:
                m.custom_uptime_ratio ??
                (m.custom_uptime_ratios
                  ? +String(m.custom_uptime_ratios).split("-")[0]
                  : null),
            }));
            render(monitors);
          } else {
            render([]);
          }
        } catch (e) {
          console.error(e);
          render([]);
        }
      }

      refreshBtn.addEventListener("click", fetchStatus);
      fetchStatus();

      document.getElementById("y").textContent = new Date().getFullYear();
    </script>

    <script>
      (function () {
        const btn = document.getElementById("menu-toggle");
        const panel = document.getElementById("mobile-nav");
        if (!btn || !panel) return;

        btn.addEventListener("click", (e) => {
          e.preventDefault();
          const hidden = panel.classList.contains("hidden");
          if (hidden) {
            panel.classList.remove("hidden");
            btn.setAttribute("aria-expanded", "true");
          } else {
            panel.classList.add("hidden");
            btn.setAttribute("aria-expanded", "false");
          }
        });

        panel.addEventListener("click", (ev) => {
          const a = ev.target.closest("a[href]");
          if (a) {
            panel.classList.add("hidden");
            btn.setAttribute("aria-expanded", "false");
          }
        });

        document.addEventListener("keydown", (ev) => {
          if (ev.key === "Escape") {
            panel.classList.add("hidden");
            btn.setAttribute("aria-expanded", "false");
          }
        });
      })();
    </script>
  </body>
</html>
