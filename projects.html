<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Project Hub — NGEE.TOP</title>
    <meta
      name="description"
      content="Explore community and first-party projects built on NGEE.TOP. Live demos, one-click deploy, and source links." />
    <meta name="theme-color" content="#0B1220" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@500;700&display=swap"
      rel="stylesheet" />

    <!-- Tailwind CDN + theme tokens -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              bg: "#0B1220",
              surface: "#0F172A",
              border: "#1E293B",
              txt: "#E2E8F0",
              "txt-dim": "#94A3B8",
              pri: "#22C55E",
              "pri-hover": "#16A34A",
              acc: "#F59E0B",
              info: "#38BDF8",
              danger: "#EF4444",
            },
            boxShadow: {
              glow: "0 0 0 2px rgba(34,197,94,0.14), 0 12px 64px rgba(34,197,94,0.10)",
            },
            borderRadius: { "2lg": "14px" },
            backgroundImage: {
              "hero-grid":
                "radial-gradient(1100px 520px at 75% -10%, rgba(34,197,94,0.10) 0%, rgba(34,197,94,0.00) 60%), radial-gradient(850px 420px at -10% 20%, rgba(56,189,248,0.10) 0%, rgba(56,189,248,0.00) 60%)",
            },
          },
        },
      };
    </script>

    <style>
      :root {
        color-scheme: dark;
      }
      html,
      body {
        background: #0b1220;
      }
      body {
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial,
          sans-serif;
        color: #e2e8f0;
      }
      .mono {
        font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo,
          Consolas, "Liberation Mono", monospace;
      }
    </style>
  </head>
  <body
    class="bg-bg text-txt antialiased selection:bg-pri/20 selection:text-txt">
    <!-- ===== Top Nav ===== -->
    <header
      class="sticky top-0 z-40 border-b border-border/60 backdrop-blur supports-[backdrop-filter]:bg-bg/70">
      <div class="mx-auto max-w-7xl px-4 py-3">
        <div class="flex items-center justify-between">
          <a href="index.html" class="flex items-center gap-3 group">
            <span
              class="inline-flex h-9 w-9 items-center justify-center rounded-xl bg-surface ring-1 ring-border relative">
              <svg
                viewBox="0 0 24 24"
                class="h-5 w-5 text-pri transition-transform group-hover:rotate-6"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5">
                <path d="M12 8.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Z" />
                <path
                  d="M12 3v2M12 19v2M4.9 4.9l1.4 1.4M17.7 17.7l1.4 1.4M3 12h2M19 12h2M4.9 19.1l1.4-1.4M17.7 6.3l1.4-1.4" />
              </svg>
            </span>
            <div class="leading-5">
              <div class="mono text-[0.9rem] font-bold tracking-tight">
                NGEE.TOP
              </div>
              <div class="text-xs text-txt-dim">Tools Of Productivity</div>
            </div>
          </a>

          <nav class="hidden md:flex items-center gap-6 text-sm">
            <a href="/" class="text-txt-dim hover:text-txt">Home</a>
            <a
              href="index.html#domains"
              class="text-txt-dim hover:text-txt transition"
              >Domains</a
            >
            <a
              href="index.html#hosting"
              class="text-txt-dim hover:text-txt transition"
              >Hosting</a
            >
            <a href="tools.html" class="text-txt-dim hover:text-txt transition"
              >Tools</a
            >
            <a
              href="projects.html"
              class="text-txt hover:text-txt transition font-semibold"
              >Projects</a
            >
            <a
              href="index.html#community"
              class="text-txt-dim hover:text-txt transition"
              >Community</a
            >
            <!-- <a
              href="https://docs.ngee.top"
              class="text-txt-dim hover:text-txt transition"
              >Docs</a
            > -->
            <a href="status.html" class="text-txt-dim hover:text-txt transition"
              >Status</a
            >
            <a href="about.html" class="text-txt-dim hover:text-txt transition"
              >About</a
            >
            <a
              href="contact.html"
              class="text-txt-dim hover:text-txt transition"
              >Contact</a
            >
            <a
              href="index.html#cta"
              class="inline-flex items-center gap-2 rounded-xl bg-pri px-4 py-2 text-sm font-semibold text-black hover:bg-pri-hover shadow-glow transition">
              Get a Domain
              <svg
                viewBox="0 0 24 24"
                class="h-4 w-4"
                fill="none"
                stroke="currentColor"
                stroke-width="1.6">
                <path d="M5 12h14M13 5l7 7-7 7" />
              </svg>
            </a>
          </nav>

          <button
            id="menu-toggle"
            aria-expanded="false"
            aria-controls="mobile-nav"
            class="md:hidden inline-flex items-center gap-2 rounded-xl border border-border bg-surface px-3 py-2 text-sm">
            Menu
          </button>
        </div>
      </div>
    </header>

    <!-- Mobile Nav Panel -->
    <div
      id="mobile-nav"
      class="md:hidden hidden border-b border-border/60 bg-surface/80">
      <div class="mx-auto max-w-7xl px-4 py-3 grid gap-2">
        <a
          href="index.html#domains"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Domains</a
        >
        <a
          href="index.html#hosting"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Hosting</a
        >
        <a
          href="tools.html"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Tools</a
        >
        <a
          href="projects.html"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Projects</a
        >
        <a
          href="index.html#community"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Community</a
        >
        <!-- <a href="https://docs.ngee.top" class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm">Docs</a> -->
        <a
          href="status.html"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Status</a
        >
        <a
          href="about.html"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >About</a
        >
        <a
          href="contact.html"
          class="block rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm"
          >Contact</a
        >
        <a
          href="index.html#cta"
          class="block rounded-xl bg-pri px-3 py-2 text-sm font-semibold text-black hover:bg-pri-hover shadow-glow"
          >Get a Domain</a
        >
      </div>
    </div>

    <!-- ===== Hero ===== -->
    <section class="relative overflow-hidden">
      <div class="absolute inset-0 bg-hero-grid pointer-events-none"></div>
      <div class="mx-auto max-w-7xl px-4 py-14 md:py-20">
        <div class="max-w-3xl">
          <span
            class="inline-flex items-center gap-2 rounded-full border border-border bg-surface px-3 py-1 text-xs text-txt-dim">
            <span class="h-2 w-2 rounded-full bg-pri/80"></span>
            Project Hub — showcase & one-click deploy
          </span>
          <h1 class="mt-5 text-4xl leading-tight font-semibold md:text-5xl">
            Discover, demo, and deploy projects.
          </h1>
          <p class="mt-3 text-lg text-txt-dim">
            Explore first-party and community projects built with Tools Of
            Productivity. Try live demos, deploy to NGEE in one click, and view
            source code.
          </p>
        </div>
      </div>
    </section>

    <!-- ===== Filters / Controls ===== -->
    <section class="mx-auto max-w-7xl px-4">
      <div class="rounded-2lg border border-border bg-surface/60 p-4 md:p-5">
        <div class="grid gap-3 md:grid-cols-6 items-end">
          <!-- Search -->
          <div class="md:col-span-2">
            <label class="text-xs text-txt-dim">Search</label>
            <input
              id="q"
              type="text"
              placeholder="e.g., saas, blog, analytics"
              class="mt-1 w-full rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm outline-none placeholder:text-txt-dim" />
          </div>

          <!-- Kind -->
          <div>
            <label class="text-xs text-txt-dim">Kind</label>
            <select
              id="kind"
              class="mt-1 w-full rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm outline-none">
              <option value="">All</option>
              <option value="app">App</option>
              <option value="site">Site</option>
              <option value="api">API</option>
            </select>
          </div>

          <!-- Runtime -->
          <div>
            <label class="text-xs text-txt-dim">Runtime</label>
            <select
              id="runtime"
              class="mt-1 w-full rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm outline-none">
              <option value="">Any</option>
              <option value="static">Static</option>
              <option value="node">Node</option>
              <option value="php">PHP</option>
            </select>
          </div>

          <!-- Status -->
          <div>
            <label class="text-xs text-txt-dim">Status</label>
            <select
              id="status"
              class="mt-1 w-full rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm outline-none">
              <option value="">Any</option>
              <option value="stable">Stable</option>
              <option value="beta">Beta</option>
              <option value="experimental">Experimental</option>
            </select>
          </div>

          <!-- Sort -->
          <div>
            <label class="text-xs text-txt-dim">Sort by</label>
            <select
              id="sort"
              class="mt-1 w-full rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm outline-none">
              <option value="updated_desc">Recently updated</option>
              <option value="name_asc">Name A–Z</option>
              <option value="name_desc">Name Z–A</option>
            </select>
          </div>

          <!-- Per page -->
          <div>
            <label class="text-xs text-txt-dim">Per page</label>
            <select
              id="perPage"
              class="mt-1 w-full rounded-xl border border-border bg-[#0b1426] px-3 py-2 text-sm outline-none">
              <option>9</option>
              <option>12</option>
              <option>18</option>
              <option>24</option>
            </select>
          </div>

          <!-- Apply -->
          <div class="md:col-span-6 flex flex-wrap gap-2 pt-1">
            <button
              id="apply"
              class="rounded-xl bg-pri px-4 py-2 text-sm font-semibold text-black hover:bg-pri-hover shadow-glow">
              Apply
            </button>
            <button
              id="reset"
              class="rounded-xl border border-border bg-surface px-4 py-2 text-sm">
              Reset
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== Results ===== -->
    <section class="mx-auto max-w-7xl px-4 py-8 md:py-12">
      <div id="summary" class="text-sm text-txt-dim"></div>

      <div id="grid" class="mt-4 grid gap-5 sm:grid-cols-2 lg:grid-cols-3">
        <!-- Cards injected by JS -->
      </div>

      <!-- Pagination -->
      <div id="pager" class="mt-8 flex flex-wrap items-center gap-2"></div>
    </section>

    <!-- ===== Footer ===== -->
    <footer class="border-t border-border/70">
      <div class="mx-auto max-w-7xl px-4 py-10">
        <div class="grid gap-8 md:grid-cols-4">
          <div>
            <div class="mono text-sm font-bold">NGEE.TOP</div>
            <p class="mt-2 text-sm text-txt-dim">
              New-era General Engineering Engine · Tools Of Productivity
            </p>
          </div>
          <div>
            <h5 class="text-sm font-semibold">Explore</h5>
            <ul class="mt-2 space-y-1 text-sm text-txt-dim">
              <li>
                <a href="index.html#domains" class="hover:text-txt">Domains</a>
              </li>
              <li>
                <a href="index.html#hosting" class="hover:text-txt">Hosting</a>
              </li>
              <li>
                <a href="index.html#tools" class="hover:text-txt">Tools</a>
              </li>
              <li>
                <a href="projects.html" class="hover:text-txt">Projects</a>
              </li>
              <li>
                <a href="index.html#community" class="hover:text-txt"
                  >Community</a
                >
              </li>
              <li>
                <a href="status.html" class="hover:text-txt">Status</a>
              </li>
            </ul>
          </div>
          <div>
            <h5 class="text-sm font-semibold">Docs</h5>
            <ul class="mt-2 space-y-1 text-sm text-txt-dim">
              <li>
                <a href="https://docs.ngee.top/domains" class="hover:text-txt"
                  >Domains</a
                >
              </li>
              <li>
                <a href="https://docs.ngee.top/dns" class="hover:text-txt"
                  >DNS</a
                >
              </li>
              <li>
                <a href="https://docs.ngee.top/hosting" class="hover:text-txt"
                  >Hosting</a
                >
              </li>
              <li>
                <a href="https://docs.ngee.top/deploy" class="hover:text-txt"
                  >Deploy</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h5 class="text-sm font-semibold">Meta</h5>
            <ul class="mt-2 space-y-1 text-sm text-txt-dim">
              <!-- <li>Twitter/X: @ngee_top</li> -->
              <li>GitHub: github.com/ngeetop</li>
              <li class="mt-3 text-[12px]">© <span id="y"></span> NGEE.TOP</li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <!-- ===== Data + Logic ===== -->
    <script>
      // Data source now loaded from projects.json via AJAX
      // kind: 'app' | 'site' | 'api'
      // runtime: 'static' | 'node' | 'php' | ''
      // status: 'stable' | 'beta' | 'experimental'
      let PROJECTS = [];

      // --- State from URL ---
      const params = new URLSearchParams(location.search);
      const state = {
        q: params.get("q") ?? "",
        kind: params.get("kind") ?? "",
        runtime: params.get("runtime") ?? "",
        status: params.get("status") ?? "",
        sort: params.get("sort") ?? "updated_desc",
        perPage: +(params.get("perPage") ?? 9),
        page: Math.max(1, +(params.get("page") ?? 1)),
      };

      // --- DOM ---
      const elQ = document.getElementById("q");
      const elKind = document.getElementById("kind");
      const elRuntime = document.getElementById("runtime");
      const elStatus = document.getElementById("status");
      const elSort = document.getElementById("sort");
      const elPerPage = document.getElementById("perPage");
      const elApply = document.getElementById("apply");
      const elReset = document.getElementById("reset");
      const elGrid = document.getElementById("grid");
      const elPager = document.getElementById("pager");
      const elSummary = document.getElementById("summary");

      // --- Init controls from state ---
      elQ.value = state.q;
      elKind.value = state.kind;
      elRuntime.value = state.runtime;
      elStatus.value = state.status;
      elSort.value = state.sort;
      elPerPage.value = String(state.perPage);

      // --- Helpers ---
      const toKey = (s) => String(s || "").toLowerCase();
      const match = (text, q) => toKey(text).includes(toKey(q));
      const dateNum = (d) => new Date(d).getTime() || 0;

      function applyFilters(items) {
        let out = items.slice();

        if (state.q) {
          out = out.filter(
            (i) =>
              match(i.name, state.q) ||
              match(i.desc, state.q) ||
              (i.tags || []).some((t) => match(t, state.q))
          );
        }

        if (state.kind) out = out.filter((i) => i.kind === state.kind);
        if (state.runtime) out = out.filter((i) => i.runtime === state.runtime);
        if (state.status) out = out.filter((i) => i.status === state.status);

        if (state.sort === "updated_desc")
          out.sort((a, b) => dateNum(b.updated) - dateNum(a.updated));
        if (state.sort === "name_asc")
          out.sort((a, b) => a.name.localeCompare(b.name));
        if (state.sort === "name_desc")
          out.sort((a, b) => b.name.localeCompare(a.name));

        return out;
      }

      function paginate(items) {
        const total = items.length;
        const per = state.perPage;
        const pages = Math.max(1, Math.ceil(total / per));
        const page = Math.min(state.page, pages);
        const start = (page - 1) * per;
        const slice = items.slice(start, start + per);
        return { total, pages, page, slice, per };
      }

      function pill(label, cls) {
        return `<span class="rounded-full ${cls} px-2.5 py-1 text-xs">${label}</span>`;
      }

      function runtimePill(rt) {
        if (!rt) return "";
        return pill(rt, "bg-border/40 text-txt-dim");
      }

      function statusPill(st) {
        const map = {
          stable: "bg-pri/10 text-pri ring-1 ring-pri/20",
          beta: "bg-acc/10 text-acc ring-1 ring-acc/20",
          experimental: "bg-info/10 text-info ring-1 ring-info/20",
        };
        return pill(st, map[st] || "bg-border/40 text-txt-dim");
      }

      function tagPills(tags) {
        return (tags || [])
          .slice(0, 3)
          .map((t) => pill(t, "bg-border/40 text-txt-dim"))
          .join(" ");
      }

      function builtOnBadge(v) {
        return v
          ? `<span class="rounded-full bg-pri/10 text-pri ring-1 ring-pri/20 px-2.5 py-1 text-[11px]">Built on NGEE</span>`
          : "";
      }

      function card(p) {
        return `
      <article class="rounded-2lg border border-border bg-surface/60 p-5 hover:bg-surface transition">
        <div class="flex items-start justify-between gap-3">
          <div>
            <h3 class="font-semibold">${p.name}</h3>
            <div class="mt-1 text-xs text-txt-dim mono">${p.kind}${
          p.runtime ? ` • ${p.runtime}` : ""
        }</div>
          </div>
          <div class="text-right text-[11px] text-txt-dim">Updated<br><span class="mono">${
            p.updated
          }</span></div>
        </div>

        <p class="mt-2 text-sm text-txt-dim">${p.desc}</p>

        <div class="mt-3 flex flex-wrap items-center gap-2">
          ${statusPill(p.status)} ${runtimePill(p.runtime)} ${tagPills(
          p.tags
        )} ${builtOnBadge(p.builtOn)}
        </div>

        <div class="mt-4 flex flex-wrap items-center gap-2">
          ${
            p.demo && p.demo !== "#"
              ? `<a class="rounded-xl border border-border bg-surface px-3 py-1.5 text-xs" href="${p.demo}" target="_blank" rel="noopener">Live demo</a>`
              : ""
          }
          ${
            p.deploy && p.deploy !== "#"
              ? `<a class="rounded-xl bg-pri px-3 py-1.5 text-xs font-semibold text-black hover:bg-pri-hover shadow-glow" href="${p.deploy}" target="_blank" rel="noopener">One-click deploy</a>`
              : ""
          }
          ${
            p.repo && p.repo !== "#"
              ? `<a class="rounded-xl border border-border bg-surface px-3 py-1.5 text-xs" href="${p.repo}" target="_blank" rel="noopener">View source</a>`
              : ""
          }
        </div>
      </article>`;
      }

      function renderPager(pages, page) {
        const btn = (label, p, active = false, disabled = false) => `
        <a ${
          disabled ? 'aria-disabled="true"' : `href="${linkFor({ page: p })}"`
        }
           class="inline-flex items-center rounded-lg border border-border ${
             active ? "bg-pri text-black" : "bg-surface text-txt"
           } px-3 py-2 text-sm ${
          disabled ? "opacity-50 pointer-events-none" : "hover:bg-surface/70"
        }">
          ${label}
        </a>`;

        const arr = [];
        arr.push(btn("Prev", Math.max(1, page - 1), false, page === 1));

        const windowSize = 5;
        let start = Math.max(1, page - Math.floor(windowSize / 2));
        let end = Math.min(pages, start + windowSize - 1);
        if (end - start + 1 < windowSize)
          start = Math.max(1, end - windowSize + 1);

        if (start > 1) arr.push(btn("1", 1, page === 1));
        if (start > 2) arr.push(`<span class="px-2 text-txt-dim">…</span>`);

        for (let p = start; p <= end; p++)
          arr.push(btn(String(p), p, p === page));

        if (end < pages - 1)
          arr.push(`<span class="px-2 text-txt-dim">…</span>`);
        if (end < pages) arr.push(btn(String(pages), pages, page === pages));

        arr.push(btn("Next", Math.min(pages, page + 1), false, page === pages));
        elPager.innerHTML = arr.join("");
      }

      function linkFor(patch) {
        const qp = new URLSearchParams({
          q: state.q,
          kind: state.kind,
          runtime: state.runtime,
          status: state.status,
          sort: state.sort,
          perPage: state.perPage,
          page: state.page,
        });
        Object.entries(patch).forEach(([k, v]) => qp.set(k, v));
        return `?${qp.toString()}`;
      }

      function pushState() {
        const qp = new URLSearchParams({
          q: state.q,
          kind: state.kind,
          runtime: state.runtime,
          status: state.status,
          sort: state.sort,
          perPage: state.perPage,
          page: state.page,
        });
        history.replaceState(null, "", `?${qp.toString()}`);
      }

      function render() {
        const filtered = applyFilters(PROJECTS);
        const { total, pages, page, slice, per } = paginate(filtered);
        const from = total ? (page - 1) * per + 1 : 0;
        const to = Math.min(total, page * per);

        elSummary.innerHTML = `${from}–${to} of ${total} projects • Page ${page}/${pages}`;
        elGrid.innerHTML =
          slice.map(card).join("") ||
          `
        <div class="rounded-2lg border border-border bg-surface p-6 text-sm text-txt-dim">
          No matching projects. Try clearing filters.
        </div>`;
        renderPager(pages, page);
        pushState();
      }

      // --- Events ---
      document.getElementById("apply").addEventListener("click", () => {
        state.q = elQ.value.trim();
        state.kind = elKind.value;
        state.runtime = elRuntime.value;
        state.status = elStatus.value;
        state.sort = elSort.value;
        state.perPage = +elPerPage.value;
        state.page = 1;
        render();
      });

      document.getElementById("reset").addEventListener("click", () => {
        elQ.value = "";
        elKind.value = "";
        elRuntime.value = "";
        elStatus.value = "";
        elSort.value = "updated_desc";
        elPerPage.value = "9";
        state.q = "";
        state.kind = "";
        state.runtime = "";
        state.status = "";
        state.sort = "updated_desc";
        state.perPage = 9;
        state.page = 1;
        render();
      });

      window.addEventListener("popstate", () => {
        const p = new URLSearchParams(location.search);
        state.q = p.get("q") ?? "";
        state.kind = p.get("kind") ?? "";
        state.runtime = p.get("runtime") ?? "";
        state.status = p.get("status") ?? "";
        state.sort = p.get("sort") ?? "updated_desc";
        state.perPage = +(p.get("perPage") ?? 9);
        state.page = Math.max(1, +(p.get("page") ?? 1));
        elQ.value = state.q;
        elKind.value = state.kind;
        elRuntime.value = state.runtime;
        elStatus.value = state.status;
        elSort.value = state.sort;
        elPerPage.value = String(state.perPage);
        render();
      });

      document.getElementById("pager").addEventListener("click", (e) => {
        const a = e.target.closest("a[href]");
        if (!a) return;
        const url = new URL(a.href, location.origin);
        const p = new URLSearchParams(url.search);
        state.page = Math.max(1, +(p.get("page") ?? state.page));
        render();
        e.preventDefault();
      });

      // Load projects via AJAX (fetch JSON), then render
      fetch("projects.json", { cache: "no-store" })
        .then((r) => {
          if (!r.ok)
            throw new Error("Failed to load projects.json: " + r.status);
          return r.json();
        })
        .then((data) => {
          PROJECTS = Array.isArray(data) ? data : data.projects || [];
          render();
        })
        .catch((err) => {
          console.error("Error loading projects:", err);
          elSummary.textContent = "Failed to load projects.";
          elGrid.innerHTML =
            '<div class="rounded-2lg border border-border bg-surface p-6 text-sm text-txt-dim">Failed to load projects.json</div>';
        });

      // dynamic year
      document.getElementById("y").textContent = new Date().getFullYear();
    </script>

    <script>
      (function () {
        const btn = document.getElementById("menu-toggle");
        const panel = document.getElementById("mobile-nav");
        if (!btn || !panel) return;

        btn.addEventListener("click", (e) => {
          e.preventDefault();
          const hidden = panel.classList.contains("hidden");
          if (hidden) {
            panel.classList.remove("hidden");
            btn.setAttribute("aria-expanded", "true");
          } else {
            panel.classList.add("hidden");
            btn.setAttribute("aria-expanded", "false");
          }
        });

        panel.addEventListener("click", (ev) => {
          const a = ev.target.closest("a[href]");
          if (a) {
            panel.classList.add("hidden");
            btn.setAttribute("aria-expanded", "false");
          }
        });

        document.addEventListener("keydown", (ev) => {
          if (ev.key === "Escape") {
            panel.classList.add("hidden");
            btn.setAttribute("aria-expanded", "false");
          }
        });
      })();
    </script>
  </body>
</html>
